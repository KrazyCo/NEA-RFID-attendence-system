{% extends 'base.html' %}

{% block content %}
<h1>{% block title %} Link student cards {% endblock %}</h1>

<form method="post">
    <div class="form-group">
        <label for="cardID">Card ID</label>
        <input type="text" class="form-control" id="cardID" name="cardID" placeholder="Enter Card ID" ,
            value="{{ request.form['cardID'] }}">
    </div>
    <div class="form-group">
        <label for="studentID">Student ID</label>
        <input type="text" class="form-control" id="studentID" name="studentID" placeholder="Enter Student ID" ,
            value="{{ request.form['studentID'] }}">
    </div>
    <div class="form-group">
        <button type="submit" class="btn btn-primary">Submit</button>
    </div>
</form>

{% for message in get_flashed_messages() %}
<div style="color:red;">{{ message }}</div>
{% endfor %}

<div class="main-left-div">
    <h2>Stored cards</h2>
    <table>
        <tr>
            <th>CardID</th>
            <th>StudentID</th>
            <th>Student name</th>
        </tr>
        {% for card in cards %}
        <tr>
            <td>{{ card[0] }}</td>
            <td>{{ card[1] }}</td>
            <td>{{ card[2] }}</td>
        </tr>
        {% endfor %}
    </table>
</div>
<div class="main-right-div">
    <h2>Last cards tapped</h2>
    <table>
        <tr>
            <th>Card ID</th>
            <th>Reader</th>
            <th>Time</th>
        </tr>
        {% for action in actions %}
        <tr>
            <td>{{ action[0] }}</td>
            <td>{{ action[2] }}</td>
            <td>{{ action[1] }}</td>
        </tr>
        {% endfor %}
    </table>
</div>

{% endblock %}